{
  "_documentation": {
    "version": "1.0.0",
    "description": "Mock API for Ingenious - CV Analysis System",
    "base_url": "/api/v1",
    "endpoints": {
      "chat": {
        "path": "/chat",
        "method": "POST",
        "description": "Submit a CV for analysis against provided criteria",
        "request_body": {
          "thread_id": "Optional string. If provided, continues existing conversation",
          "user_id": "Optional string. User identifier",
          "user_prompt": "Required string. CV content and criteria to evaluate against",
          "conversation_flow": "Required string. Type of analysis to perform (e.g., 'cv_analysis')",
          "topic": "Optional string. Specific focus areas",
          "memory_record": "Optional boolean. Whether to record this interaction in memory"
        },
        "response": {
          "thread_id": "String. Conversation thread identifier",
          "message_id": "String. Unique message identifier",
          "agent_response": "String. Analysis result from the AI",
          "token_count": "Number. Tokens used in this response",
          "max_token_count": "Number. Maximum allowed tokens",
          "memory_summary": "String. Summary of the conversation for context"
        },
        "errors": {
          "400": "Bad Request - Invalid input parameters",
          "406": "Not Acceptable - Content filter triggered",
          "413": "Payload Too Large - Token limit exceeded"
        }
      },
      "messages_feedback": {
        "path": "/messages/{message_id}/feedback",
        "method": "PUT",
        "description": "Submit feedback on a message (e.g., rating the quality of CV analysis)",
        "request_body": {
          "thread_id": "Required string. Thread identifier",
          "message_id": "Required string. Message identifier (must match URL parameter)",
          "user_id": "Optional string. User identifier",
          "positive_feedback": "Optional boolean. Whether feedback is positive"
        },
        "response": {
          "message": "String. Confirmation of feedback submission"
        },
        "errors": {
          "400": "Bad Request - Invalid input parameters"
        }
      },
      "conversations": {
        "path": "/conversations/{thread_id}",
        "method": "GET",
        "description": "Retrieve the conversation history for a specific thread",
        "parameters": {
          "thread_id": "Required string. Thread identifier"
        },
        "response": "Array of message objects in chronological order",
        "errors": {
          "400": "Bad Request - Invalid thread_id"
        }
      },
      "diagnostic": {
        "path": "/diagnostic",
        "method": "GET",
        "description": "Get system diagnostic information, including paths to various directories",
        "response": "Object containing directory paths and system information",
        "errors": {
          "500": "Internal Server Error"
        }
      },
      "prompts_view": {
        "path": "/prompts/view/{revision_id}/{filename}",
        "method": "GET",
        "description": "View content of a specific prompt template",
        "parameters": {
          "revision_id": "Required string. Version/revision identifier",
          "filename": "Required string. Name of the prompt template file"
        },
        "response": "String content of the requested prompt template",
        "errors": {
          "404": "Not Found - Prompt template not found"
        }
      },
      "prompts_list": {
        "path": "/prompts/list/{revision_id}",
        "method": "GET",
        "description": "List available prompt templates for a specific revision",
        "parameters": {
          "revision_id": "Required string. Version/revision identifier"
        },
        "response": "Array of prompt template filenames",
        "errors": {
          "404": "Not Found - Revision not found"
        }
      },
      "prompts_update": {
        "path": "/prompts/update/{revision_id}/{filename}",
        "method": "POST",
        "description": "Update content of a specific prompt template",
        "parameters": {
          "revision_id": "Required string. Version/revision identifier",
          "filename": "Required string. Name of the prompt template file"
        },
        "request_body": {
          "content": "Required string. New content for the prompt template"
        },
        "response": {
          "message": "String. Confirmation of update"
        },
        "errors": {
          "500": "Internal Server Error - Failed to update file"
        }
      }
    },
    "authentication": {
      "type": "Basic Auth",
      "description": "API requires HTTP Basic Authentication if enabled in configuration"
    },
    "common_errors": {
      "401": "Unauthorized - Authentication required",
      "500": "Internal Server Error - Unexpected error"
    }
  },
  "chat": [
    {
      "id": "chat_123456",
      "thread_id": "thread_abc123",
      "message_id": "msg_456789",
      "agent_response": "I've analyzed the CV and found that the candidate has 5 years of experience in software development with expertise in Python, JavaScript, and React. Their educational background includes a Bachelor's degree in Computer Science. Based on your criteria, this candidate matches 85% of your requirements.",
      "token_count": 156,
      "max_token_count": 8192,
      "memory_summary": "Candidate has strong technical skills and educational background."
    }
  ],
  "messages": [
    {
      "id": "msg_456789",
      "thread_id": "thread_abc123",
      "user_id": "user_123",
      "positive_feedback": true,
      "timestamp": "2025-03-18T14:30:00Z",
      "role": "assistant",
      "content": "I've analyzed the CV and found that the candidate has 5 years of experience in software development with expertise in Python, JavaScript, and React. Their educational background includes a Bachelor's degree in Computer Science. Based on your criteria, this candidate matches 85% of your requirements.",
      "content_filter_results": null,
      "tool_calls": null,
      "tool_call_id": null,
      "tool_call_function": null
    },
    {
      "id": "msg_456790",
      "thread_id": "thread_abc123",
      "user_id": "user_123",
      "positive_feedback": null,
      "timestamp": "2025-03-18T14:29:00Z",
      "role": "user",
      "content": "Analyze this CV against my criteria of: 3+ years experience, Python knowledge, degree in Computer Science",
      "content_filter_results": null,
      "tool_calls": null,
      "tool_call_id": null,
      "tool_call_function": null
    }
  ],
  "conversations": {
    "thread_abc123": [
      {
        "id": "msg_456790",
        "user_id": "user_123",
        "thread_id": "thread_abc123",
        "message_id": "msg_456790",
        "positive_feedback": null,
        "timestamp": "2025-03-18T14:29:00Z",
        "role": "user",
        "content": "Analyze this CV against my criteria of: 3+ years experience, Python knowledge, degree in Computer Science",
        "content_filter_results": null
      },
      {
        "id": "msg_456789",
        "user_id": "user_123",
        "thread_id": "thread_abc123",
        "message_id": "msg_456789",
        "positive_feedback": true,
        "timestamp": "2025-03-18T14:30:00Z",
        "role": "assistant",
        "content": "I've analyzed the CV and found that the candidate has 5 years of experience in software development with expertise in Python, JavaScript, and React. Their educational background includes a Bachelor's degree in Computer Science. Based on your criteria, this candidate matches 85% of your requirements.",
        "content_filter_results": null
      }
    ],
    "thread_def456": [
      {
        "id": "msg_567890",
        "user_id": "user_123",
        "thread_id": "thread_def456",
        "message_id": "msg_567890",
        "positive_feedback": null,
        "timestamp": "2025-03-17T10:15:00Z",
        "role": "user",
        "content": "Evaluate this resume for a data scientist position with requirements: ML experience, SQL proficiency, and statistics background",
        "content_filter_results": null
      },
      {
        "id": "msg_567891",
        "user_id": "user_123",
        "thread_id": "thread_def456",
        "message_id": "msg_567891",
        "positive_feedback": true,
        "timestamp": "2025-03-17T10:16:00Z",
        "role": "assistant",
        "content": "The candidate's resume indicates 3 years of experience with machine learning projects, strong SQL skills demonstrated through database management roles, and a Master's in Statistics. They match your criteria very well with a 90% alignment to your requirements.",
        "content_filter_results": null
      }
    ]
  },
  "diagnostic": {
    "Prompt Directory": "/path/to/prompts",
    "Data Directory": "/path/to/data",
    "Output Directory": "/path/to/output",
    "Events Directory": "/path/to/events"
  },
  "prompts": {
    "view": {
      "default/cv_analysis_prompt.jinja": "You are a CV analysis assistant. Your task is to evaluate a CV against the following criteria:\n\n{{ criteria }}\n\nCV Content:\n{{ cv_content }}\n\nProvide a detailed analysis of how well the candidate meets each criterion.",
      "default/resume_parser.jinja": "Parse the following resume and extract key information such as:\n- Name\n- Contact Information\n- Education\n- Work Experience\n- Skills\n\nResume Content:\n{{ resume_content }}"
    },
    "list": {
      "default": [
        "cv_analysis_prompt.jinja",
        "resume_parser.jinja",
        "job_matching.jinja",
        "skill_evaluator.md"
      ],
      "custom": ["technical_assessment.jinja", "culture_fit.jinja"]
    }
  },
  "message_feedback": [
    {
      "id": "feedback_123",
      "message_id": "msg_456789",
      "thread_id": "thread_abc123",
      "user_id": "user_123",
      "positive_feedback": true
    }
  ]
}
